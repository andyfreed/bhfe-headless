# Fragment for Landing Page Template ACF Fields
# Use this fragment when querying pages with the Landing template

fragment LandingPageFields on Page {
  id
  databaseId
  title
  uri
  slug
  content
  template {
    templateName
  }
  featuredImage {
    node {
      id
      sourceUrl
      altText
      mediaDetails {
        width
        height
      }
    }
  }
  # ACF Flexible Content for Landing Pages
  # Note: flexibleContent is directly on Page, not nested under acfPageFields
  flexibleContent {
    flexibleContent {
      __typename
      ... on FlexibleContentFlexibleContentHeroLayout {
        fieldGroupName
        bandClasses
        bandId
        animation
        animationSpeed
        anchorPlacement
        backgroundImage {
          node {
            sourceUrl
            altText
          }
        }
        heading
        subheading
        # CTA button is an AcfLink type
        ctaButton {
          url
          title
          target
        }
        colorScheme
        textAlignment
        containerAlignment
      }
      ... on FlexibleContentFlexibleContentHeadingLayout {
        fieldGroupName
        bandClasses
        bandId
        animation
        animationSpeed
        anchorPlacement
        heading
        textAlignment
        containerAlignment
        size
        tag
        fontWeight
        # headingLinksTo is a ContentNode connection, not AcfLink
        headingLinksTo {
          nodes {
            ... on NodeWithTitle {
              title
            }
            uri
          }
        }
      }
      ... on FlexibleContentFlexibleContentCtaButtonsLayout {
        fieldGroupName
        bandClasses
        bandId
        animation
        animationSpeed
        anchorPlacement
        # buttons is an array of objects with button (AcfLink) inside
        buttons {
          button {
            url
            title
            target
          }
        }
        buttonStyle
        columns
        colorScheme
        textAlignment
        containerAlignment
      }
      ... on FlexibleContentFlexibleContentImageModuleLayout {
        fieldGroupName
        bandClasses
        bandId
        animation
        animationSpeed
        anchorPlacement
        image {
          node {
            sourceUrl
            altText
          }
        }
        imageSize
        imageAlignment
        forceImagesFullWidth
      }
      ... on FlexibleContentFlexibleContentWysiwygLayout {
        fieldGroupName
        bandClasses
        bandId
        animation
        animationSpeed
        anchorPlacement
        content
      }
      ... on FlexibleContentFlexibleContentAccordionLayout {
        fieldGroupName
        bandClasses
        bandId
        animation
        animationSpeed
        anchorPlacement
        accordionItems {
          heading
          content
          defaultState
        }
      }
      ... on FlexibleContentFlexibleContentHtmlLayout {
        fieldGroupName
        bandClasses
        bandId
        html
      }
      ... on FlexibleContentFlexibleContentShortcodeLayout {
        fieldGroupName
        bandClasses
        bandId
        shortcode
      }
    }
  }
}
